<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>yarn | 博客</title>
    <meta name="generator" content="VuePress 1.9.9">
    
    <meta name="description" content="教程、技术、问题总结">
    
    <link rel="preload" href="/blog/assets/css/0.styles.f2fa720d.css" as="style"><link rel="preload" href="/blog/assets/js/app.7d9bf940.js" as="script"><link rel="preload" href="/blog/assets/js/3.ce84a6f3.js" as="script"><link rel="preload" href="/blog/assets/js/1.22a35a13.js" as="script"><link rel="preload" href="/blog/assets/js/4.9e541bfd.js" as="script"><link rel="prefetch" href="/blog/assets/js/10.453fc3a7.js"><link rel="prefetch" href="/blog/assets/js/11.fb48d55e.js"><link rel="prefetch" href="/blog/assets/js/12.ed62ecd3.js"><link rel="prefetch" href="/blog/assets/js/13.259cafe2.js"><link rel="prefetch" href="/blog/assets/js/14.b5706a18.js"><link rel="prefetch" href="/blog/assets/js/15.50ab0f5e.js"><link rel="prefetch" href="/blog/assets/js/16.2ce9f822.js"><link rel="prefetch" href="/blog/assets/js/17.3f77f2c1.js"><link rel="prefetch" href="/blog/assets/js/18.37c5a3a1.js"><link rel="prefetch" href="/blog/assets/js/19.54cbb3d9.js"><link rel="prefetch" href="/blog/assets/js/20.93159361.js"><link rel="prefetch" href="/blog/assets/js/21.633f3323.js"><link rel="prefetch" href="/blog/assets/js/22.856d4227.js"><link rel="prefetch" href="/blog/assets/js/23.7e873d2a.js"><link rel="prefetch" href="/blog/assets/js/24.85d12ad4.js"><link rel="prefetch" href="/blog/assets/js/25.bc6e173f.js"><link rel="prefetch" href="/blog/assets/js/26.5c44f3d9.js"><link rel="prefetch" href="/blog/assets/js/27.a5739f26.js"><link rel="prefetch" href="/blog/assets/js/28.c2d3ac54.js"><link rel="prefetch" href="/blog/assets/js/29.61e306a5.js"><link rel="prefetch" href="/blog/assets/js/30.4cb7387c.js"><link rel="prefetch" href="/blog/assets/js/31.c0ca0d3b.js"><link rel="prefetch" href="/blog/assets/js/32.3f90dd0a.js"><link rel="prefetch" href="/blog/assets/js/33.7809403c.js"><link rel="prefetch" href="/blog/assets/js/34.7b1c8273.js"><link rel="prefetch" href="/blog/assets/js/35.1b1347bf.js"><link rel="prefetch" href="/blog/assets/js/36.d32cc0cd.js"><link rel="prefetch" href="/blog/assets/js/37.d6ca1cba.js"><link rel="prefetch" href="/blog/assets/js/38.d01e00fd.js"><link rel="prefetch" href="/blog/assets/js/39.2278f3af.js"><link rel="prefetch" href="/blog/assets/js/40.03dfd0c2.js"><link rel="prefetch" href="/blog/assets/js/41.66ed9651.js"><link rel="prefetch" href="/blog/assets/js/42.30e79db3.js"><link rel="prefetch" href="/blog/assets/js/43.c8a063dd.js"><link rel="prefetch" href="/blog/assets/js/5.d342f67a.js"><link rel="prefetch" href="/blog/assets/js/6.1709955f.js"><link rel="prefetch" href="/blog/assets/js/7.25ac339c.js"><link rel="prefetch" href="/blog/assets/js/8.540f2a1f.js"><link rel="prefetch" href="/blog/assets/js/9.89a08dc2.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.f2fa720d.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar" data-v-7dd95ae2><div data-v-7dd95ae2><div class="password-shadow password-wrapper-out" style="display:none;" data-v-59e6cb88 data-v-7dd95ae2 data-v-7dd95ae2><h3 class="title" data-v-59e6cb88>博客</h3> <p class="description" data-v-59e6cb88>教程、技术、问题总结</p> <label id="box" class="inputBox" data-v-59e6cb88><input type="password" value="" data-v-59e6cb88> <span data-v-59e6cb88>Konck! Knock!</span> <button data-v-59e6cb88>OK</button></label> <div class="footer" data-v-59e6cb88><span data-v-59e6cb88><i class="iconfont reco-theme" data-v-59e6cb88></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-59e6cb88>vuePress-theme-reco</a></span> <span data-v-59e6cb88><i class="iconfont reco-copyright" data-v-59e6cb88></i> <a data-v-59e6cb88><!---->
          
        <!---->
        2023
      </a></span></div></div> <div class="hide" data-v-7dd95ae2><header class="navbar" data-v-7dd95ae2><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog/" class="home-link router-link-active"><!----> <span class="site-name">博客</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="undefined"></i>
      教程
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/guide/markd.html" class="nav-link"><i class="undefined"></i>
  markdown语法
</a></li><li class="dropdown-item"><!----> <a href="/blog/guide/seo.html" class="nav-link"><i class="undefined"></i>
  SEO解决方案
</a></li><li class="dropdown-item"><!----> <a href="/blog/guide/js/basic.html" class="nav-link"><i class="undefined"></i>
  javaScript
</a></li><li class="dropdown-item"><!----> <a href="/blog/guide/css/basic.html" class="nav-link"><i class="undefined"></i>
  CSS
</a></li><li class="dropdown-item"><!----> <a href="/blog/guide/vue/vue3/basic.html" class="nav-link"><i class="undefined"></i>
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/blog/guide/git/svn.html" class="nav-link"><i class="undefined"></i>
  Git
</a></li><li class="dropdown-item"><!----> <a href="/blog/guide/yarn/basic.html" aria-current="page" class="nav-link router-link-exact-active router-link-active"><i class="undefined"></i>
  Yarn
</a></li><li class="dropdown-item"><!----> <a href="/blog/guide/plugins/iconPicker.html" class="nav-link"><i class="undefined"></i>
  插件
</a></li><li class="dropdown-item"><!----> <a href="/blog/guide/nuxt/basic.html" class="nav-link"><i class="undefined"></i>
  nuxt
</a></li></ul></div></div><div class="nav-item"><a href="/blog/websites/links.html" class="nav-link"><i class="undefined"></i>
  网址
</a></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-7dd95ae2></div> <aside class="sidebar" data-v-7dd95ae2><div class="personal-info-wrapper" data-v-1fad0c41 data-v-7dd95ae2><!----> <!----> <div class="num" data-v-1fad0c41><div data-v-1fad0c41><h3 data-v-1fad0c41>33</h3> <h6 data-v-1fad0c41>Articles</h6></div> <div data-v-1fad0c41><h3 data-v-1fad0c41>3</h3> <h6 data-v-1fad0c41>Tags</h6></div></div> <ul class="social-links" data-v-1fad0c41></ul> <hr data-v-1fad0c41></div> <nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="undefined"></i>
      教程
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/guide/markd.html" class="nav-link"><i class="undefined"></i>
  markdown语法
</a></li><li class="dropdown-item"><!----> <a href="/blog/guide/seo.html" class="nav-link"><i class="undefined"></i>
  SEO解决方案
</a></li><li class="dropdown-item"><!----> <a href="/blog/guide/js/basic.html" class="nav-link"><i class="undefined"></i>
  javaScript
</a></li><li class="dropdown-item"><!----> <a href="/blog/guide/css/basic.html" class="nav-link"><i class="undefined"></i>
  CSS
</a></li><li class="dropdown-item"><!----> <a href="/blog/guide/vue/vue3/basic.html" class="nav-link"><i class="undefined"></i>
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/blog/guide/git/svn.html" class="nav-link"><i class="undefined"></i>
  Git
</a></li><li class="dropdown-item"><!----> <a href="/blog/guide/yarn/basic.html" aria-current="page" class="nav-link router-link-exact-active router-link-active"><i class="undefined"></i>
  Yarn
</a></li><li class="dropdown-item"><!----> <a href="/blog/guide/plugins/iconPicker.html" class="nav-link"><i class="undefined"></i>
  插件
</a></li><li class="dropdown-item"><!----> <a href="/blog/guide/nuxt/basic.html" class="nav-link"><i class="undefined"></i>
  nuxt
</a></li></ul></div></div><div class="nav-item"><a href="/blog/websites/links.html" class="nav-link"><i class="undefined"></i>
  网址
</a></div> <!----></nav> <!----> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-59e6cb88 data-v-7dd95ae2><h3 class="title" data-v-59e6cb88>yarn</h3> <!----> <label id="box" class="inputBox" data-v-59e6cb88><input type="password" value="" data-v-59e6cb88> <span data-v-59e6cb88>Konck! Knock!</span> <button data-v-59e6cb88>OK</button></label> <div class="footer" data-v-59e6cb88><span data-v-59e6cb88><i class="iconfont reco-theme" data-v-59e6cb88></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-59e6cb88>vuePress-theme-reco</a></span> <span data-v-59e6cb88><i class="iconfont reco-copyright" data-v-59e6cb88></i> <a data-v-59e6cb88><!---->
          
        <!---->
        2023
      </a></span></div></div> <div data-v-7dd95ae2><div data-v-7dd95ae2><main class="page" style="padding-right:0;"><section style="display:;"><div class="page-title"><h1 class="title">yarn</h1> <div data-v-8a445198><!----> <!----> <!----> <i class="tags iconfont reco-tag" data-v-8a445198><span class="tag-item" data-v-8a445198>yarn</span></i></div></div> <div class="theme-reco-content content__default"><h1 id="关于yarn"><a href="#关于yarn" class="header-anchor">#</a> 关于yarn</h1> <h2 id="前言"><a href="#前言" class="header-anchor">#</a> 前言</h2> <p>1.Npm的介绍
Npm 是 Node.js 官方提供的，包管理规范，如：</p> <p>将所有第三方依赖包放在 node_modules 这个文件目录下，我们在增加，删除，升级依赖也只是更新这个文件下的相关依赖包。
增加 package.json 文件，这个文件中存放本项目及项目的依赖和版本信息，这样我们就可以一目了然的了解本项目用到了什么，都是什么版本的，不用多处寻找。
在使用依赖时，Node 提供的支持是内置的 require 方法，默认会到这个目录下去检索模块，无需手动指定路径。
如此一来，有了 Npm 的加持，实现模块化，工程化的前端项目搭建，稳定了前后端分离的发展思路。</p> <p>JavaScript 本身只能用来做一些数学和逻辑运算，不提供任何与 I/O（输入/输出）相关的 API，都要靠宿主环境（host）提供，所以它只合适嵌入到更大型的应用程序环境，去调用宿主环境提供的底层 API。</p> <h2 id="yarn-的介绍"><a href="#yarn-的介绍" class="header-anchor">#</a> Yarn 的介绍</h2> <p>yarn作为项目的包管理工具，快速、安全、可靠。你下载的包将不再重新下载。而且确保在不同系统中可以正常工作。</p> <p>这里我们看到Yarn官方推荐的三个特点：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>1.速度快: Yarn 缓存了每个下载过的包，再次使用时无需重复下载。同时它是并行的，因此安装速度更快
2.安全: 在执行代码之前，Yarn 会通过算法校验每个安装包的完整性。
3.可靠: 使用详细、简洁的锁文件格式和明确的安装算法，使 Yarn 能够在不同系统上保证无差异的工作。
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>Yarn 是基于 Npm 的不足之处做出了全新的改版升级，但是我们并不能说 Yarn 的出现会完全取代 Npm，因为目前的 Yarn ，只是完善升级了 Npm，让开发者们有了更好的体验，但截至目前为止，Yarn 并没有实现全部的 Npm 命令及功能。</p> <h2 id="使用-npm-的缺点"><a href="#使用-npm-的缺点" class="header-anchor">#</a> 使用 Npm 的缺点</h2> <p>对比 yarn，就会感觉等待 Npm 安装进度条是一个很漫长的过程，可以使用 Npm 在国内的淘宝镜像服务 cnpm，这样速度虽然提升了，安装之后运行时出现各种问题，所以在速度上，yarn 碾压 npm
关于错误提示，yarn 做的更加人性化，使用 npm 时，如果安装某一个依赖发生错误，npm 会继续打印之后的安装日志，开发者很难注意到到底哪里安装报错
在 npm5 之前，npm 安装无法保证版本的一致性，如：“1.0.3”、“～1.0.3”、&quot;^1.0.3&quot;这三个命令分别代表着：安装指定的 1.0.3 版本、安装 1.0.X 中最新的版本、
安装 1.X.X 中最新的版本，给开发者增加极大的学习成本。
yarn 为了解决以上的问题，增加了 yarn.lock 锁文件，这个方案让开发者不必再担心项目中其他成员安装的依赖版本不同。</p> <h2 id="yarn-和-npm-能否同时使用"><a href="#yarn-和-npm-能否同时使用" class="header-anchor">#</a> Yarn 和 npm 能否同时使用？</h2> <p>yarn 是对 npm 进行了安装和提升，实现了 npm大部分的命令和功能，且二者都遵循 package.json 文件，所以我们也不用担心兼容问题，yarn 完全没有侵入性。二者完全可以同时使用。</p> <h2 id="在项目中如何安装及使用-yarn"><a href="#在项目中如何安装及使用-yarn" class="header-anchor">#</a> 在项目中如何安装及使用 Yarn</h2> <p>1 安装
yarn 有很多种安装方式，对于不同的系统，我们可以区别安装，推荐大家使用 Npm 去安装，这种方法最方便简洁。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code> npm i -g yarn
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>2 关于使用
在一个新项目中，我们通常按照以下步骤去使用 yarn：</p> <p>写入生成package.json，确定项目中需要哪些依赖（如果已有该文件跳过本步骤）。<br>
执行 yarn 初始化项目依赖，生成 yarn.lock 文件。<br>
通过yarn add 命令添加需要安装的依赖。<br>
确定想升级某个依赖的最新版本时，使用yarn upgrad命令升级。</p> <h1 id="yarn命令"><a href="#yarn命令" class="header-anchor">#</a> yarn命令</h1> <h2 id="yarn命令汇总"><a href="#yarn命令汇总" class="header-anchor">#</a> yarn命令汇总</h2> <table><thead><tr><th>命令</th> <th>释义</th></tr></thead> <tbody><tr><td>yarn add</td> <td>添加依赖</td></tr> <tr><td>yarn audit</td> <td>对已安装的软件包执行漏洞审核</td></tr> <tr><td>yarn autoclean</td> <td>从程序包依赖项中清除并删除不必要的文件</td></tr> <tr><td>yarn bin</td> <td>显示依赖bin文件夹的位置</td></tr> <tr><td>yarn cache</td> <td>管理用户目录中的依赖缓存</td></tr> <tr><td>yarn check</td> <td>验证当前项目中程序包依赖项</td></tr> <tr><td>yarn config</td> <td>管理依赖配置文件</td></tr> <tr><td>yarn create</td> <td>创建Yarn工程</td></tr> <tr><td>yarn dedupe</td> <td>删除重复的依赖</td></tr> <tr><td>yarn generate-lock-entry</td> <td>生成Yarn锁文件</td></tr> <tr><td>yarn global</td> <td>在全局安装依赖</td></tr> <tr><td>yarn help</td> <td>显示Yarn的帮助信息</td></tr> <tr><td>yarn import</td> <td>迁移当前依赖的项目package-lock.json</td></tr> <tr><td>yarn info</td> <td>显示有关依赖的信息</td></tr> <tr><td>yarn init</td> <td>初始化工程并创建package.json文件</td></tr> <tr><td>yarn install</td> <td>用于安装项目的所有依赖项</td></tr> <tr><td>yarn licenses</td> <td>列出已安装依赖的许可证及源码url</td></tr> <tr><td>yarn link</td> <td>链接依赖文件夹</td></tr> <tr><td>yarn list</td> <td>列出已安装的依赖</td></tr> <tr><td>yarn login</td> <td>存储您在 registry 上的用户名和 email</td></tr> <tr><td>yarn logout</td> <td>清除你在 registry 上用户名和 email</td></tr> <tr><td>yarn outdated</td> <td>列出所有依赖项的版本信息</td></tr> <tr><td>yarn owner</td> <td>展示依赖作者</td></tr> <tr><td>yarn pack</td> <td>创建依赖项的压缩gzip</td></tr> <tr><td>yarn policies</td> <td>规定整个项目中执行Yarn的版本</td></tr> <tr><td>yarn publish</td> <td>将依赖发布到npm注册表</td></tr> <tr><td>yarn remove</td> <td>删除依赖</td></tr> <tr><td>yarn run</td> <td>运行定义的程序脚本命令</td></tr> <tr><td>yarn tag</td> <td>在依赖上添加，删除或列出标签</td></tr> <tr><td>yarn team</td> <td>管理组织中的团队，并更改团队成员身份</td></tr> <tr><td>yarn test</td> <td>运行程序的test命令</td></tr> <tr><td>yarn upgrade</td> <td>将指定依赖升级为最新版本</td></tr> <tr><td>yarn upgrade-interactive</td> <td>更新过期依赖的简便方法</td></tr> <tr><td>yarn version</td> <td>展示依赖版本信息</td></tr> <tr><td>yarn versions</td> <td>展示所有依赖项版本信息</td></tr> <tr><td>yarn why</td> <td>显示有关为什么安装依赖的信息</td></tr> <tr><td>yarn workspace</td> <td>Yarn的工作区信息</td></tr> <tr><td>yarn workspaces</td> <td>Yarn的所有工作区信息</td></tr></tbody></table> <h2 id="命令详解"><a href="#命令详解" class="header-anchor">#</a> 命令详解</h2> <h3 id="yarn-version"><a href="#yarn-version" class="header-anchor">#</a> yarn version</h3> <p><strong>解释</strong>：用来查看 yarn 的版本信息
<strong>使用场景</strong>：查看当前安装 yarn 的版本
<strong>具体使用：</strong>
使用 <code>yarn -v</code> 或者 <code>yarn -version</code> 运行结果如下：</p> <p><img src="/blog/assets/img/v.aa026945.png"><br></p> <p>当安装完 yarn，不知道是否安装成功时，可以使用此命令，如果显示了版本号，说明安装成功。</p> <h3 id="yarn-init"><a href="#yarn-init" class="header-anchor">#</a> yarn init</h3> <p><strong>解释</strong>：初始化项目或者文件夹</p> <p><strong>使用场景</strong>：当你想初始化一个项目，或者文件夹，并生成 <code>package.json</code> 文件时，使用此命令。</p> <p><strong>具体使用：</strong>
我们初始化一个示例项目，执行：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code> yarn init
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>​	默认配置项我们直接 enter 默认，运行结果如下：</p> <p><img src="/blog/assets/img/init.b44cc23e.png"><br></p> <p>​	此时，我们就使用 yarn，初始化了一个项目</p> <h3 id="yarn-add"><a href="#yarn-add" class="header-anchor">#</a> yarn add</h3> <p><strong>解释</strong>：添加一个或者多个依赖
<strong>使用场景</strong>：此命令为 yarn 使用频率最高的几个命令之一，用来添加依赖。
<strong>具体使用：</strong>
依赖添加的具体命令为：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code> yarn add &lt;package&gt; //如需选择对应版本号，请在依赖后加 @0.x.x

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>比如我们想添加 <code>gulp-less</code> 这个依赖，效果如图：</p> <p><img src="/blog/assets/img/add.71187a43.gif"><br></p> <p>安装多个依赖后，这个时候 package.json 里面会展示你安装的所有依赖信息：</p> <p><img src="/blog/assets/img/msg.837b2d68.png"><br></p> <p>同样是安装依赖，npm 使用 <code>npm install</code> 命令后面接很多参数，如版本号 “~”、&quot;^&quot;等代表的含义都不一样，而<code>yarn add</code>就十分简洁，且控制台输出风格更人性化。</p> <h3 id="yarn-upgrade"><a href="#yarn-upgrade" class="header-anchor">#</a> yarn upgrade</h3> <p><strong>解释</strong>：更新依赖</p> <p><strong>使用场景</strong>：使用此命令可以更新已经安装的依赖。</p> <p><strong>具体使用：</strong>
更新某个依赖的具体命令为：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code> yarn upgrade &lt;package&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><img src="/blog/assets/img/up.d0aad257.png"><br></p> <h3 id="yarn-remove"><a href="#yarn-remove" class="header-anchor">#</a> yarn remove</h3> <p><strong>解释</strong>：删除依赖</p> <p><strong>使用场景</strong>：使用此命令可以删除已经安装的依赖。</p> <p><strong>具体使用：</strong>
删除某个依赖的具体命令为：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code> yarn remove &lt;package&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><img src="/blog/assets/img/remove.2f0b3762.png"><br></p> <h3 id="yarn-cache"><a href="#yarn-cache" class="header-anchor">#</a> yarn cache</h3> <p><strong>解释</strong>：用来管理用户缓存的依赖</p> <p><strong>使用场景</strong>：当你想查看本地缓存了哪些 Yarn 的依赖，以及具体各个依赖项的详细信息，可以使用该命令</p> <p><strong>具体使用：</strong></p> <ul><li>yarn cache dir</li></ul> <p>运行这个命令会显示出当前缓存目录，默认为 C 盘。例如我的电脑路径是:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code> C:\Users\**\AppData\Local\Yarn\Cache\v6

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li>yarn cache list</li></ul> <p>展示所有已缓存的依赖项信息:</p> <p><img src="/blog/assets/img/list.f4295b6b.png"><br></p> <ul><li>yarn cache clean</li></ul> <p>对本地缓存的依赖进行强制清除</p> <p>本地有很多项目时，有时会发现用来存放依赖的磁盘空间越来越小，这也许是因为缓存了太多无用的依赖。或者安装依赖时用了很多办法都解决不了的，如依赖版本错误，可以考虑查看并清除本地的依赖缓存。</p> <h3 id="yarn-config"><a href="#yarn-config" class="header-anchor">#</a> yarn config</h3> <p><strong>解释</strong>：和 npm 的 config 命令类似，用来管理依赖的配置信息</p> <p><strong>使用场景</strong>：用来查看和设置依赖的一些配置信息，如资源路径等</p> <p><strong>具体使用：</strong></p> <ul><li>yarn config list</li></ul> <p>这个命令不仅能展示 yarn 的资源路径信息，还能展示 npm 的路径信息：</p> <p><img src="/blog/assets/img/config.8df88c8c.png"><br></p> <ul><li>yarn cache set</li></ul> <p>设置配置信息，如设置淘宝镜像地址：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code> yarn config set registry https://registry.npm.taobao.org

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>对于许多国内开发者来说，有些依赖下载速度慢，再或者直接被墙，这时候我们可以使用本命令来更改资源路径，如改为淘宝镜像，这样就能大大提高开发效率。</p> <h3 id="yarn-info"><a href="#yarn-info" class="header-anchor">#</a> yarn info</h3> <p><strong>解释</strong>：查看具体某一个依赖的信息，不一定是本地已经安装过的，远程的也可以</p> <p><strong>使用场景</strong>：查看具体的依赖信息</p> <p><strong>具体使用：</strong></p> <ul><li>yarn info</li></ul> <p>例如我们想查看 vue 的具体信息，可以输入命令</p> <div class="language- line-numbers-mode"><pre class="language-text"><code> yarn info vue

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>这里查看到了所有 vue 这个包的信息，例如作者、版本信息等：
<img src="/blog/assets/img/info.b7883eae.png"><br></p> <h3 id="yarn-global"><a href="#yarn-global" class="header-anchor">#</a> yarn global</h3> <p><strong>解释</strong>：在 npm 里有 <code>npm install &lt;package&gt; -g</code> 的命令，用来全局安装某个依赖，同样yarn也有相对应的全局安装方案 <code>yarn global</code></p> <p><strong>使用场景</strong>：使用yarn全局安装某个依赖，或者可以配合<code>yarn bin</code>、<code>yarn remove</code>等命令使用</p> <p><strong>具体使用：</strong></p> <ul><li>yarn global add</li></ul> <p>例如我们想全局安装 webpack，使用命令：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code> yarn global add webpack
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><img src="/blog/assets/img/webpack.4133a825.png"><br></p> <h3 id="yarn-why"><a href="#yarn-why" class="header-anchor">#</a> yarn why</h3> <p><strong>解释</strong>：帮助你寻找本项目的依赖</p> <p><strong>使用场景</strong>：想寻找本项目中的某一依赖信息，可以使用该命令。</p> <p><strong>具体使用：</strong></p> <p>使用命令：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code> yarn why &lt;package&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><img src="/blog/assets/img/why.6d627920.png"><br></p> <p>该命令可以计算依赖大小，及展示该依赖项对应的其他依赖等。</p> <h3 id="yarn-run"><a href="#yarn-run" class="header-anchor">#</a> yarn run</h3> <p><strong>解释</strong>：使用 yarn 的<code>yarn run</code>命令， 来启动项目相对应的功能。</p> <p><strong>使用场景</strong>：在项目里已经定义好相对应的一些命令后，使用 yarn run 命令，来启动项目相对应的功能，本处演示使用 vue cli 初始化得命令。</p> <p><strong>具体使用：</strong></p> <ul><li>yarn run &lt;项目定义命令&gt;</li></ul> <p><img src="/blog/assets/img/run.0021624f.png"><br></p> <ul><li>例如：我们使用 <code>package.json</code> 文件中定义的启动命令 serve ，如果用npm 我们可以使用<code>npm serve</code> 或者 <code>npm run serve</code>，在 yarn 命令中，我们使用<code>yarn run serve</code> 或者 <code>yarn serve</code> 启动项目。</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>yarn run serve
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>运行命令后效果如下图，此时，我们就启动了这个vue-cli默认的项目：</p> <p><img src="/blog/assets/img/server.da6d8aec.png"><br></p> <p>然后我们再尝试下默认的打包命令：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>yarn run build
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><img src="/blog/assets/img/build.3f0692dd.png"><br></p> <p>此时文件夹中的 <code>dist</code> 目录便是打包出来的文件。</p> <p><img src="/blog/assets/img/dist.c403a3dc.png"><br></p> <h1 id="yarn的工作流示例"><a href="#yarn的工作流示例" class="header-anchor">#</a> Yarn的工作流示例</h1> <h2 id="yarn工作流案例示例"><a href="#yarn工作流案例示例" class="header-anchor">#</a> yarn工作流案例示例</h2> <h3 id="使用-yarn-初始化一个项目"><a href="#使用-yarn-初始化一个项目" class="header-anchor">#</a> 使用 yarn 初始化一个项目</h3> <p>在这里默认大家已经安装好了yarn，如果没有安装的话，前文有讲过，可以使用多种方式，最简单的方法可以使用npm去安装。</p> <p>首先第一步，执行下面命令，初始化一个项目：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>yarn init
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>效果如图
<img src="/blog/assets/img/3.init.914fb454.png"><br></p> <p>此时会提示你输入一些问题，方便初始化项目信息。如果无需特殊定制化一些信息，可以一路回车键，使用他的默认信息。
<img src="/blog/assets/img/init.b44cc23e.png"><br></p> <p>初始化完成后，初始化的文件夹中，会自动生成一个 <code>package.json</code> 文件，文件中包含初始化时填写的默认信息，如下图：
<img src="/blog/assets/img/json.20514fa0.png"><br></p> <p><code>package.json</code> 用于管理包依赖关系。其他的如添加/删除/更新等命令用于管理 <code>package.json</code> 和 <code>yarn.lock</code>。</p> <h3 id="添加一个依赖"><a href="#添加一个依赖" class="header-anchor">#</a> 添加一个依赖</h3> <p>使用 <code>yarn add</code> 命令，如添加vue-cli依赖：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>yarn add vue-cli
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>如果不写版本号，默认安装最新版本，如果需要安装指定版本，请按照如下格式添加依赖：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>yarn add vue-cli@x.x.x
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>此操作将自动在 <code>package.json</code>中添加对应的依赖，同时更新yarn.lock文件的版本信息。</p> <p>我们还可以添加依赖到其他类型的依赖关系如：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>yarn add <span class="token operator">--</span>dev 添加到 devDependencies
yarn add <span class="token operator">--</span>peer 添加到 peerDependencies
yarn add <span class="token operator">--</span>optional 添加到 optionalDependencies
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>具体的依赖关系类型，yarn的官网列举如下：
<img src="/blog/assets/img/exam.3226486b.png"><br></p> <p>最后，我们执行 <code>yarn add vue-cli</code>，出现 success信息，并提示我们具体安包的数量，说明依赖安装成功 效果如图：
<img src="/blog/assets/img/success.a4c24fd6.png"><br></p> <p>我们可以看到我们的<code>package.json</code>文件中多出了预想的依赖信息，并且项目目录中多出了 <code>node_modules</code> 文件夹，所有的依赖相关文件都被安装在了这个文件夹中，大功告成！
<img src="/blog/assets/img/model.42953fa7.png"><br></p> <h3 id="使用yarn更新依赖"><a href="#使用yarn更新依赖" class="header-anchor">#</a> 使用yarn更新依赖</h3> <p><code>yarn</code> 更新依赖使用的是 <code>yarn upgrade [package]</code> 命令，也有一些需要注意得使用点。
首先我们初始化一个 webpack依赖，指定版本号为3.5.0</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>yarn add webpack@3.5.0
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>此时 <code>package.json</code> 中修改为</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>&quot;dependencies&quot;: {
    &quot;webpack&quot;: &quot;3.5.0&quot;
  }
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>然后我们使用 yarn 命令尝试去更新 webpack 依赖</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>yarn upgrade webpack
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>虽然控制台没有任何报错，也提示更新成功，但是我们的 <code>package.json</code> 中的配置还是</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>&quot;dependencies&quot;: {
    &quot;webpack&quot;: &quot;3.5.0&quot;
  }
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>注意：<code>yarn upgrade</code> 是按你指定的版本区间升级的，你可以使用 --latest 参数升级到最新版，无视 package.json 中的版本区间。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>yarn upgrade webpack --latest
&quot;dependencies&quot;: {
    &quot;webpack&quot;: &quot;4.43.0&quot;
  }
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>这样就达到我们想升级依赖到最新版本的目的。</p> <p>现在示例的是一个依赖，如果有多个依赖，想同时升级到最新版本，需要执行如下命令：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>yarn upgrade-interactive
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="使用yarn删除依赖"><a href="#使用yarn删除依赖" class="header-anchor">#</a> 使用yarn删除依赖</h3> <p>使用yarn删除依赖的命令为 <code>yarn remove</code>。</p> <p>从当前项目中删除依赖项：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>yarn remove lodash
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>一次从所有工作空间中删除一个依赖项：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>yarn remove lodash --all
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>删除所有以开头的依赖项eslint-：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>yarn remove 'eslint-*'
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>删除@babel范围内的所有依赖项：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>yarn remove '@babel/*'
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>删除所有匹配的依赖项react-dom或react-helmet ：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>yarn remove 'react-{dom,helmet}'
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="临时修改-只生效一次"><a href="#临时修改-只生效一次" class="header-anchor">#</a> 临时修改（只生效一次）:</h4> <p>使用 npm 时，因为速度很慢，我们可以使用修改下载源的方式提升下载速度。同样的，使用 yarn 如果有需要，我们同样可以修改下载源(淘宝镜像)。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>yarn save [package] --registry https://registry.npm.taobao.org/
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="设置yarn的配置项-全局配置"><a href="#设置yarn的配置项-全局配置" class="header-anchor">#</a> 设置yarn的配置项（全局配置）:</h4> <p>查看yarn源的当前地址</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>yarn config get registry
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>设置淘宝镜像</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>yarn config set registry https://registry.npm.taobao.org/
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></div></section> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">上次更新: </span> <span class="time">3/23/2023, 15:50:06</span></div></footer> <!----> <div class="comments-wrapper"><!----></div></main></div> <!----></div> <ul class="sub-sidebar sub-sidebar-wrapper" style="width:0;" data-v-b57cc07c data-v-7dd95ae2></ul></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-c6073ba8 data-v-c6073ba8><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-c6073ba8><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-c6073ba8></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-c6073ba8></path></svg></div></div></div>
    <script src="/blog/assets/js/app.7d9bf940.js" defer></script><script src="/blog/assets/js/3.ce84a6f3.js" defer></script><script src="/blog/assets/js/1.22a35a13.js" defer></script><script src="/blog/assets/js/4.9e541bfd.js" defer></script>
  </body>
</html>
